<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.10" />
<title>gcut</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


      li>p {
          display: inline;
      }
      body {
        padding: 0;
        background-color: #fff;
	color: black;
      }
      div.paper {
        background-color: #fff;
	color: black;
        margin: 1em;
        /*margin-left: 12.5em;*/
      }
      iframe {
        background-color: #aaa;
      }
      img {max-width: 100%}
      div.content {
        margin-left: auto;
        margin-right: auto;
        padding: 1em;
        padding-right: 3em;
        padding-left: 2em;
        max-width: 45em;
      }
      p {
        line-height: 1.2em;
      }
      h1 {
        margin-top: 0em;
        }
      h1, h2, h3, h4{
        color: #112266;
      }
      h1 {
        font-size: 2em;
      }
      h2 {
        font-size: 1.5em;
      }
      h3 {
        font-size: 1.2em;
      }
      h4 {
        font-size: 1.0em;
      }
      dl {
        margin-top: 1em;
        margin-bottom: 1em;
      }

      div.expander {
        border: 1px solid #bbb;
      }
      div.expander_title {
        /*border-bottom: 0px solid #aaa;*/
      }
      div.expander_content {
        margin-left: 2em;
        display: none;
        padding-bottom: 1em;
      }
      div.expander_content dl{
        margin: 0;
        padding: 0;
      }


      table th {
        font-weight: normal;
        background-color: #ccc;
        text-align: left;
      }
      span.component {
        background-color: #060;
        padding-left: 0.5em;
        padding-top: 0.1em;
        padding-bottom: 0.1em;
        display: block;
        float: left;
        overflow: hidden;
        width: 4em;
        color: white;
        border: 1px solid gray;
        border: 1px solid white;
        clear: both;
      }
      span.type {
        display: block;
        background-color: #006;
        padding-left: 0.5em;
        clear: both;
        padding-top: 0.1em;
        padding-bottom: 0.1em;
        float: left;
        overflow: hidden;
        width: 4em;
        color: white;
        border: 1px solid white;
      }

      .nopad {
        margin :0;
        padding:0;
      }

      td.component {
        background-color: #060;
        padding-left: 0.5em;
        padding-top: 0.1em;
        padding-bottom: 0.1em;
        overflow: hidden;
        width: 4em;
        color: white;
        border: 1px solid white;
      }
      td.type {
        background-color: #006;
        padding-left: 0.5em;
        padding-top: 0.1em;
        padding-bottom: 0.1em;
        overflow: hidden;
        width: 4em;
        color: white;
        border: 1px solid white;
      }
      span.spacer {
        float: left;
        display: block;
        overflow: hidden;
        width: 0.2em;
      }
      span.name {
        width: 100%;
        display: block;
        overflow: hidden;
        border-top: 1px solid #ccc;
      }
      span.string {
        color: #060;
      }
      span.function {
        color: #006;
      }
      span.paren {
        color: #555;
      }
      span.NULL {
        color: #555;
      }
      pre.authors {
        font-size: 100%;
        font-family: FreeSans, Verdana, sans-serif;
        position: relative;
        top: -2em;
      }
      img.BablFish {
         float: right;
         position: relative;
         top: -8px;
         border: none;
      }
      td.op_name {
          padding-top: 2.5em;
          padding-bottom: 1.0em;
          font-weight: bold;
          font-size: 120%;
      }
      td.op_description {
          padding-bottom: 1em;
      }
      td.prop_type {
          color: gray;
          font-style: italic;
      }
      td.prop_name {
          font-weight: bold;
      }
      td.prop_blurb {
          padding-bottom: 0.5em;
      }
      @media screen {
        body {
          font-family: FreeSans, Verdana, sans-serif;
          max-width: 45em;
        }
        a {
          text-decoration: none;
        }
        pre {
          overflow: auto;
        }
        h1 {
            display: none;
        }

        div#toc {
          background-color: #333;
          /*position: absolute;
          position: fixed;*/
          width: 12em;
          top: 0;
          right: 0;
          z-index: 2;
          height: 100%;
          overflow: auto;
          float: right;
          padding-top: 0.5em;
        }
        div#toc ul {
          padding-top: 0em;
          padding-left: 0em;
          margin: 0;
        }
        div#toc li {
          display: block;
          padding-right: 1em;
        }
        div#toc li a,
        div#toc div a{
          display: block;
          padding-left: 1em;
          padding-right: 1em;
          color: #fff;
        }
        div#toc li a:hover,
        div#toc div a:hover{
          color: #fff;
          background-color: #445;
        }
        div#toc li a:active,
        div#toc div a:active{
          color: #000;
          background-color: #445;
        }
        div#toc .toclevel1 {
          padding-top: 0.5em;
          padding-left: 0em;
        }
        div#toc .toclevel2 {
          padding-left: 1em;
        }
        #toctitle {
            display: none;
        }
        div.paper {
          max-width: 45em;
          -moz-border-radius: 1em;
        }
        div.content {
        }
        div.print {
          display: none;
        }
        ul.crucible {margin:0; padding:0}
        ul.crucible li{display: inline;}
      }

      h2#gegl {
          display: none;
      }

      @media print {
        body {
          background-color: none;
          font-family: FreeSans, Verdana, sans-serif;
        }
        a, em {
          /* XXX: work-around for rendering bug, should investigate whether
           * this issue is fixed in the latest gecko
           */
          padding-right: 3em;
          padding-left: 1em;
        }
        a {
          text-decoration: none;
        }

        div#toc ul {
          padding-left: 0em;
          float: right;
          margin: 0;
        }
        div#toc li {
          display: block;
          padding-right: 1em;
        }
        div#toc li a{
          display: block;
          padding-left: 1em;
          padding-right: 1em;
          color: #fff;
        }
        div#toc li a:hover {
          color: #fff;
          background-color: #333;
        }
        div#toc ul {
          padding-left: 0em;
          float: none;
          margin: 0;
          margin-left: 1em;
        }
        div#toc {
          position: absolute;
          width: 200px;
          top: 0;
          left: 2em;
          padding-top: 2em;
          z-index: 2;
        }
        div#toc ul {
          margin-left: 0;
        }
        div#toc li a {
          color : #000;
        }
        div#toc h2 {
          margin: 0;
          padding: 0;
        }
        h1 {
          margin-left: -0.75em;
        }
        h2 {
          padding-top: 4em;
          margin-left: -1em;
        }
        h3 {
          padding-top: 4em;
          margin-left: -1em;
        }
        span.component {
          background-color: #7f7;
          color: black;
        }
        span.type {
          background-color: #aaf;
          color: black;
        }
        table th {
          font-weight: bold;
        }
        div.print_title {
          position: absolute;
          top: 3em;
          padding-left: 2em;
          margin-left: 280px;
        }
        div.paper {
          padding-top: 4em;
        }
        div.graphic {
          display: none;
          background-color: #bbf;
          height: 100%;
        }
        div.graphic img {
          position: absolute;
          bottom: 0;
          left: 0;
        }
        div.screen {
          display: none;
        }
      }

      a{color:#44f;}
      a:visited{color:#44f;}



</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>gcut</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_gegl_video_editing_system">GEGL video editing system</h2>
<div class="sectionbody">
<div class="paragraph"><p>gcut is a video editing engine for <a href="http://gegl.org/">GEGL</a>. It permits
re-arranging bits of video with clean cuts and crossfades, as well as applying
filtering chains to individual clips or as global filters on top of the edited
video. At the moment gcut is primarily a data-model and file format, it can be
used to programatically generate video that are then rendered. There is also an
experimental user interface that can be used to augment and at some point
replace understanding gcuts text file syntax.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_features">Features</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
single-track editing, with cross fades
</p>
</li>
<li>
<p>
keeps source audio when editing
</p>
</li>
<li>
<p>
tuning of in/out points.
</p>
</li>
<li>
<p>
video audio correctly cut
</p>
</li>
<li>
<p>
shuffling of clips
</p>
</li>
<li>
<p>
background render processes rendering target-resolution cached frames.
</p>
</li>
<li>
<p>
proxy media support, permits editing with scaled down files for interactive speeds when editing workstation cannot deal with fullhd / 4k source footage at interactive speeds.
</p>
</li>
<li>
<p>
ui preview renderer using proxies - in separate thread for ui drawing/interaction; to keep it from blocking interaction.
</p>
</li>
<li>
<p>
drag and drop of media from desktop file managers
</p>
</li>
<li>
<p>
creating and editing per clip op-chains
</p>
</li>
<li>
<p>
interactive tuning scalar/string/boolean properties of ops
</p>
</li>
<li>
<p>
animating scalar properties of ops (only linear interpolation/key-framing for
now)
</p>
</li>
<li>
<p>
timestamped auto-save
</p>
</li>
</ul></div>
<div class="paragraph"><p>See [gcut.h](<a href="https://git.gnome.org/browse/gegl/tree/gcut/gcut.h">https://git.gnome.org/browse/gegl/tree/gcut/gcut.h</a>) for more
up-to-date current plans/todos/fixme.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_example_output">Example output</h2>
<div class="sectionbody">
<div class="paragraph"><p>The GEGL video from Libre Graphics Meeting 2016 in London,
<a href="https://www.youtube.com/watch?v=GJJPgLGrSgc">https://www.youtube.com/watch?v=GJJPgLGrSgc</a> was made from raw footage using
gcut, the default testproject of gcut which is in this repo as default.edl
produces the following video when rendered the first time (TODO: update this
video with newer render):
<a href="https://www.youtube.com/watch?v=n91QbTMawuc">https://www.youtube.com/watch?v=n91QbTMawuc</a></p></div>
</div>
</div>
<div class="sect1">
<h2 id="_graphical_user_interface">Graphical User Interface</h2>
<div class="sectionbody">
<div class="paragraph"><p>The UI is written using microraptor gui, using lightweight CSS styling for text
and cairo for drawing the interface direct from data structures.</p></div>
<div class="paragraph"><p>The current UI is the minimal amount of UI needed for keyboard centered editing
with some mouse based scrubbing and positioning. The available keyboard actions
are different for the first and last frames of a clip compared with the
mid-clip frames, when jumping between clips with up/down arrows, one jumps
between the first frames of clips. The filter editing UI is not yet fully usful
for more than visualizing data created in a text-editor on the project file.</p></div>
<div class="paragraph"><p>The basic view, with the F1 keyboard shortcut help overlaid over the video.</p></div>
<div class="imageblock">
<div class="content">
<img src="http://pippin.gimp.org/gedl/gedl-help.png" alt="gcut with help" />
</div>
</div>
<div class="paragraph"><p>In this screenshot, showing the purely synthetic used gegl operations default
project of gcut. Showing visualization of keyframed parameters and permit
setting them through sliders. Slanted clip transitions indicates cross-fades.
Note that the current UI is the first attempt at a direct mapping of the file
format.</p></div>
<div class="imageblock">
<div class="content">
<img src="http://pippin.gimp.org/gedl/gedl2.png" alt="more complex ui" />
</div>
</div>
<div class="paragraph"><p>The amount of code, written in C is about equally divided 50/50 between the
core rendering logic in C and the UI, both about 3000 lines. All the actual
work and flexibility is provided by GEGL itself, new operations created for one
application become automatically available in possibly all of GIMP and
gnome-photos as they are added to GEGL the system.  Two ops in particular in
GEGL which trace their history back to a pre-GEGL 2004era video editor called
bauxite, [gegl:ff-load.h](<a href="http://gegl.org/operations/gegl-ff-load.html">http://gegl.org/operations/gegl-ff-load.html</a>) and
[gegl:ff-save.h](<a href="http://gegl.org/operations/gegl-ff-save.html">http://gegl.org/operations/gegl-ff-save.html</a>) which provide
the ability to load, decode, endcode and save GEGL buffers a video frames, and
associated audio - with playback and seeking oriented caching mechanisms. It
could be possible to add alternatives to these operations using for instance
gstreamer, and the rest of gcut would remain unchanged.</p></div>
<div class="paragraph"><p>It is planned to, eventually, rewrite the UI part from C to lua, even if even
this C ui is very young, it will however use the same toolkit, cairo and
microraptor gui, aiming for shorter interaction cycles during development and
less fragile code and opening up for easier outside contributions, as well as
learning from mistakes and short comings in the UI prototype proof of concept
written in C, with mrg and cairo, anything that can be drawn can be made
interactive, thus at least editing animation curves could be made a lot more
visual and interactive.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_file_format">File format</h2>
<div class="sectionbody">
<div class="paragraph"><p>An example gcut edl file is as follows:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>output-path=result.mp4</code></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><code>A.mp4 200 341
A.mp4 514 732
B.mp4 45 123</code></pre>
</div></div>
<div class="paragraph"><p>If this was stored in a file, test.edl we can run:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>$ gcut test.edl render</code></pre>
</div></div>
<div class="paragraph"><p>And gcut will put video and audio content belonging to times from frame no 200 to frame no 341, followed by frames from not 514 to 732 subsequently followed with frames 45-123 from another file B.mp4</p></div>
<div class="paragraph"><p>if you just run:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>$ gcut test.edl</code></pre>
</div></div>
<div class="paragraph"><p>gcut will launch in UI mode, videos can be added by drag and drop from
file manager if starting out from scratch.</p></div>
<div class="paragraph"><p>when quitting gcut will have overwritten the original file
with something like the following:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>output-path=example-output.mp4
video-width=1920
video-height=1080
fps=59.940060
frame-scale=1.293607
t0=0.000000
frame-no=311
selection-start=216
selection-end=216</code></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><code>A.mp4 200 341
A.mp4 514 732
B.mp4 45 123</code></pre>
</div></div>
<div class="paragraph"><p>The output settings  for video-width, video-height and fps have been detected
from the first video clip - gcut works well if all clips have the same fps.</p></div>
<div class="paragraph"><p>After each clip a gegl image processing chain following the format documented
at <a href="http://gegl.org/gegl-chain.html">http://gegl.org/gegl-chain.html</a></p></div>
<div class="paragraph"><p>One can for instance write:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>A.mp4 200 341 -- gaussian-blur std-dev-x=0.1rel std-dev-y=0.1rel gegl:threshold value=0.3</code></pre>
</div></div>
<div class="paragraph"><p>To blur and threshold A.mp4, this feature can be used for using arbitrary GEGL
pipelines with interpolated parameters as filters on a video clip. The suffix
rel used in the gaussian blur is dependant on the height of the video - this
permits the pipeline to be used for proxies as well as for full size video.</p></div>
<div class="paragraph"><p>Values can also be animated by supplying them inside inside curly brackets,
containg keyframe=value pairs in a clip local interpolated time space {0=3.0
3=0.2 10=}. The format for the animated properties are likely to change as the
current place-holder linear only format is supplanted.</p></div>
<div class="paragraph"><p>Entries without a path, but only a filtering part like:</p></div>
<div class="paragraph"><p>&#8212;&#8201;10.5s 20s  invert-gamma</p></div>
<div class="paragraph"><p>would insert a chain of invert-gamma from 10.5s until 20s. These entries need
to be placed at the beginning of the file. (later, these filters will inherit
the position of the insertion cursor of the timeline.)</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_caching_architecture">caching architecture</h2>
<div class="sectionbody">
<div class="paragraph"><p>The data storage model is central to gcuts architecture the user sees as a
project file contains the complete description of how to generate a video for a
sequence from source assets. The rest of objects used during processing can be
regenerated deterministically under the same hashed file names.</p></div>
<div class="paragraph"><p>This file is broken down into a set of global assignments of key/values, and
lines describing clips with path - and filter overlays, with in/out points and
optional associated GEGL filter stacks.</p></div>
<div class="paragraph"><p>gcut keeps cached data in the .gcut subdir in the same directory as the loaded
gcut project file, All the projects in a folder share the same .cache
directory. The cache data is separated in subdirs for ease of development and
debugging.</p></div>
<div class="paragraph"><p><strong>.gcut/cache/</strong>   contains the rendered frames - stored in files that are a hash
of a string containing , source clip/frame no and filter chain at given frame.
Thus making returns to previous settings reuse previous values. This folder can
be removed but all cached frames are lost - gcut should have a feature to
remove all non-cached frames.</p></div>
<div class="paragraph"><p><strong>.gcut/history/</strong>  contains undo snapshots of files being edited (backups from
frequent auto-save)</p></div>
<div class="paragraph"><p><strong>.gcut/proxy/</strong>  contains scaled down to for quick preview/editing video files</p></div>
<div class="paragraph"><p><strong>.gcut/thumb/</strong>  contains thumb tracks for video clips - thumb tracks are images
to show in the clips in the timeline, the thumb tracks are created using
iconographer from the proxy videos.</p></div>
<div class="paragraph"><p>when the UI is running the following threads and processes exist:</p></div>
<div class="paragraph"><p><strong>gcut project.edl</strong>  mrg ui thread (cairo + gtk/raw fb) GEGL renderer/evaluation thread</p></div>
<div class="paragraph"><p><strong>gcut project.edl cache 0 4</strong>  background frame cache renderer processes</p></div>
<div class="paragraph"><p><strong>gcut project.edl cache 1 4</strong>  if frameno % 4 == 1 then this one considers</p></div>
<div class="paragraph"><p><strong>gcut project.edl cache 2 4</strong>  it its responsibility to render frameno, the</p></div>
<div class="paragraph"><p><strong>gcut project.edl cache 3 4</strong>  count of such processes is set to the number of cores/processors available.</p></div>
<div class="paragraph"><p>The background renderer processes are stopped when playback is initiated, as
well as every 60 seconds, when a new set of caches (restarts to handle both
project file changes and possible memory leaks.)</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2017-09-21 21:11:00 CEST
</div>
</div>
</body>
</html>
